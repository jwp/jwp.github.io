<html root="2"><head><title>jwp.log.fragments.freebsd</title><meta charset="utf-8"/><link as="style" rel="preload" href="../../.legacy-web/core.css"></link><link as="style" rel="preload" href="../../.legacy-web/factor.css"></link><link rel="stylesheet" href="../../.legacy-web/core.css"></link><link rel="stylesheet" href="../../.legacy-web/factor.css"></link></head><body><main><h1><span class="prefix"></span><div class="page-subject"><img class="icon" src="../../.factor-type-icon/if.fault.io/meta-chapter.svg"></img><span class="subject-identifier">freebsd</span><span class="element-status"><span class="nothing-missed">0</span></span><a href="http://if.fault.io/factors/meta.chapter"><code class="type">meta.chapter</code></a></div><div class="page-context"><a href="../"><img class="icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTYiIGhlaWdodD0iMjU2Ij48dGV4dCB4PSI0IiB5PSIwLjg4ZW0iIGZvbnQtc2l6ZT0iMjQ4Ij7wn5OcPC90ZXh0Pjwvc3ZnPg=="></img></a><span class="context-identifier">jwp.log</span></div></h1><section class="chapter"><p><span class="text.normal">Most of this is reference for desktop workstation administration.</span></p></section><section class="unspecified" documented="true" local-identifier="Serial" id="Serial"><h1><span class="prefix"></span><a class="title" href="#Serial"><span class="text.normal">Serial</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><section class="unspecified" documented="true" local-identifier="Configure Serial Console" id="Serial.Configure-Serial-Console"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Serial">Serial</a><a class="title" href="#Serial.Configure-Serial-Console"><span class="text.normal">Configure Serial Console</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><pre class="text.syntax"><code class="syntax/image">#!/usr/bin/env update-file /boot/loader.conf
boot_multicons="YES"
boot_serial="YES"
comconsole_speed="115200"
console="comconsole,vidconsole"
</code></pre></section><section class="unspecified" documented="true" local-identifier="References" id="Serial.References"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Serial">Serial</a><a class="title" href="#Serial.References"><span class="text.normal">References</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><ul class="text.set"><li><p><a class="absolute" href="https://forums.freebsd.org/threads/using-usb-serial-adapter-for-console-output.69759/">https://forums.freebsd.org/threads/using-usb-serial-adapter-for-console-output.69759/</a></p></li></ul></section></section><section class="unspecified" documented="true" local-identifier="Disks, Partitions, and Filesystems" id="Disks,-Partitions,-and-Filesystems"><h1><span class="prefix"></span><a class="title" href="#Disks,-Partitions,-and-Filesystems"><span class="text.normal">Disks, Partitions, and Filesystems</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><section class="unspecified" documented="true" local-identifier="List Disks" id="Disks,-Partitions,-and-Filesystems.List-Disks"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Disks,-Partitions,-and-Filesystems">Disks, Partitions, and Filesystems</a><a class="title" href="#Disks,-Partitions,-and-Filesystems.List-Disks"><span class="text.normal">List Disks</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><pre class="text.syntax"><code class="syntax/shell">geom disk list
</code></pre></section><section class="unspecified" documented="true" local-identifier="List Partitions" id="Disks,-Partitions,-and-Filesystems.List-Partitions"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Disks,-Partitions,-and-Filesystems">Disks, Partitions, and Filesystems</a><a class="title" href="#Disks,-Partitions,-and-Filesystems.List-Partitions"><span class="text.normal">List Partitions</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><pre class="text.syntax"><code class="syntax/shell">gpart show
</code></pre></section><section class="unspecified" documented="true" local-identifier="Initialize disk with FAT32" id="Disks,-Partitions,-and-Filesystems.Initialize-disk-with-FAT32"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Disks,-Partitions,-and-Filesystems">Disks, Partitions, and Filesystems</a><a class="title" href="#Disks,-Partitions,-and-Filesystems.Initialize-disk-with-FAT32"><span class="text.normal">Initialize disk with FAT32</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><p><span class="text.normal">Copied from FreeBSD hints.</span></p><pre class="text.syntax"><code class="syntax/shell">gpart create -s MBR /dev/#
gpart add -t fat32 /dev/#
newfs_msdos -F 32 -L thumbdrive-title /dev/#s1
</code></pre></section><section class="unspecified" documented="true" local-identifier="Update ZFS Bootcode" id="Disks,-Partitions,-and-Filesystems.Update-ZFS-Bootcode"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Disks,-Partitions,-and-Filesystems">Disks, Partitions, and Filesystems</a><a class="title" href="#Disks,-Partitions,-and-Filesystems.Update-ZFS-Bootcode"><span class="text.normal">Update ZFS Bootcode</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><pre class="text.syntax"><code class="syntax/shell"># `-i 2` being the normal freebsd-boot slice and `ada` being the disk's device.
# Without an EFI partition, this may be `-i 1`.
gpart bootcode -b /boot/pmbr -p /boot/gptzfsboot -i 2 ada
</code></pre></section><section class="unspecified" documented="true" local-identifier="References" id="Disks,-Partitions,-and-Filesystems.References"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Disks,-Partitions,-and-Filesystems">Disks, Partitions, and Filesystems</a><a class="title" href="#Disks,-Partitions,-and-Filesystems.References"><span class="text.normal">References</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><ul class="text.set"><li><p><a class="absolute" href="https://www.cyberciti.biz/faq/freebsd-hard-disk-information/">https://www.cyberciti.biz/faq/freebsd-hard-disk-information/</a></p></li><li><p><a class="absolute" href="https://www.ronny-mueller.com/2024/01/02/howto-update-the-zfs-bootcode-after-zfs-update/">https://www.ronny-mueller.com/2024/01/02/howto-update-the-zfs-bootcode-after-zfs-update/</a></p></li><li><p><a class="absolute" href="https://forums.freebsd.org/threads/update-of-the-bootcodes-for-a-gpt-scheme-x64-architecture.80163/">https://forums.freebsd.org/threads/update-of-the-bootcodes-for-a-gpt-scheme-x64-architecture.80163/</a></p></li><li><p><a class="absolute" href="https://forums.freebsd.org/threads/how-to-add-freebsd-to-efibootmgr.88977/">https://forums.freebsd.org/threads/how-to-add-freebsd-to-efibootmgr.88977/</a></p></li></ul></section></section><section class="unspecified" documented="true" local-identifier="MacBook" id="MacBook"><h1><span class="prefix"></span><a class="title" href="#MacBook"><span class="text.normal">MacBook</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><ul class="text.set"><li><p><a class="absolute" href="https://forums.freebsd.org/threads/macbook-pro-early-2013-macbookpro10-1-status.54456/">https://forums.freebsd.org/threads/macbook-pro-early-2013-macbookpro10-1-status.54456/</a></p></li></ul></section><section class="unspecified" documented="true" local-identifier="USB" id="USB"><h1><span class="prefix"></span><a class="title" href="#USB"><span class="text.normal">USB</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><section class="unspecified" documented="true" local-identifier="Power Control" id="USB.Power-Control"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#USB">USB</a><a class="title" href="#USB.Power-Control"><span class="text.normal">Power Control</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><pre class="text.syntax"><code class="syntax/shell">usbconfig -d ugen0.1 power_off
usbconfig -d ugen0.1 power_on
</code></pre></section><section class="unspecified" documented="true" local-identifier="Query Description" id="USB.Query-Description"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#USB">USB</a><a class="title" href="#USB.Query-Description"><span class="text.normal">Query Description</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><pre class="text.syntax"><code class="syntax/shell">usbconfig -d ugen0.1 dump_device_desc
</code></pre></section><section class="unspecified" documented="true" local-identifier="References" id="USB.References"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#USB">USB</a><a class="title" href="#USB.References"><span class="text.normal">References</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><ul class="text.set"><li><p><a class="absolute" href="https://forums.freebsd.org/threads/controlling-usb-device-power-off-save-at-boot.60454/">https://forums.freebsd.org/threads/controlling-usb-device-power-off-save-at-boot.60454/</a></p></li></ul></section></section><h1 class="footing"></h1></main></body></html>